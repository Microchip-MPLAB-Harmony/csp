<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE11" /><meta name="copyright" content="(C) Copyright 2022" />
<meta name="DC.rights.owner" content="(C) Copyright 2022" />
<meta name="DC.type" content="topic" />
<meta name="DC.title" content="DMAC_CRCCalculate Function" />
<meta name="DC.format" content="XHTML" />
<meta name="DC.identifier" content="dmac-crccalculate-function" />
<link rel="stylesheet" type="text/css" href="stylesheets/commonltr.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/atmel.css" />
<link rel="stylesheet" type="text/css" href="./stylesheets/common-extended.css" /><title>DMAC_CRCCalculate Function</title>
<meta name="Microsoft.Help.Id" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8-dmac-crccalculate-function" />
<meta name="Microsoft.Help.TocParent" content="GUID-1EA9B250-D935-443A-9FA9-C48E50D229E8" />
<meta name="Microsoft.Help.TocOrder" content="0" />
<meta name="Microsoft.Help.Locale" content="en-US" />
<meta name="Microsoft.Help.TopicLocale" content="en-US" />
<meta name="Microsoft.Help.DisplayVersion" content="MPLABÂ® Harmony Peripheral Libraries Reference A 09/2021" />
<script language="javascript">
       
       if (window.parent.location.protocol != 'file:') {
				document.addEventListener('click', function(e) {
				    if (e.target) {
               if (e.target.nodeName == "A" ) {
                    if (!e.target.target) {
                      e.preventDefault();
                      e.stopPropagation();
                              
                      var origUrl = window.parent.location.href.substr(0, window.parent.location.href.indexOf("?"));
                      if (origUrl.length === 0) {
                          origUrl = window.parent.location.href;
                      }
                      var href= e.target.getAttribute("href");
                      var parts = href.split("#");
          
                      var url = "";
                      if (parts.length == 2 ) {
                        if (!parts[0].length) {
                            url = window.parent.location.search.replace('?','')
                        } else {
                            url = parts[0].replace('.html','');
                        }
                      } else {
                        url = parts[0].replace('.html','');
                      }

                      if (parts.length == 2) {
                          url += "#" + parts[1];
                      }
    
                      window.parent.location.href = origUrl + "?" + url;

                      return false;
                    }
               }
            }
				});
			}

		</script><script language="javascript">
        function cpy(id, button) {
        
            var element = document.getElementById(id);
            var content = element.getAttribute("content");
            var textArea = document.createElement("textarea");
            
            // Place in the top-left corner of screen regardless of scroll position.
            textArea.style.position = 'fixed';
            textArea.style.top = 0;
            textArea.style.left = 0;
            
            // Ensure it has a small width and height. Setting to 1px / 1em
            // doesn't work as this gives a negative w/h on some browsers.
            textArea.style.width = '2em';
            textArea.style.height = '2em';
            
            // We don't need padding, reducing the size if it does flash render.
            textArea.style.padding = 0;
            
            // Clean up any borders.
            textArea.style.border = 'none';
            textArea.style.outline = 'none';
            textArea.style.boxShadow = 'none';
            
            // Avoid flash of the white box if rendered for any reason.
            textArea.style.background = 'transparent';
            
            
            textArea.value = content;
            
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
               var successful = document.execCommand('copy');
               var msg = successful ? 'successful' : 'unsuccessful';
               if (!button.classList.contains("copied")){
                  button.textContent = "Copied";
                  button.classList.add("copied");
                  setTimeout(function(){
                    button.textContent = "Copy";
                    button.classList.remove("copied");
                  },1000);
               }
            } catch (err) {
              console.log('Oops, unable to copy');
            }
            
            document.body.removeChild(textArea);
        }
      </script><script language="javascript">
          
          // Add the MathML namespace to html
          var html = document.getElementsByTagName("html")[0],
          head = document.getElementsByTagName("head")[0];
          
          var mathJax = document.createElement("script");
          mathJax.src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML";
          head.appendChild(mathJax);
          
          html.setAttribute("xmlns:m","http://www.w3.org/1998/Math/MathML");
          
          function inIframe() { try { return window.self !== window.top; } catch (e) { return true; } }
          
          if (!inIframe()) { 
          
          var Default = "index.html?GUID-B9C36FBF-73B3-4B88-AA7E-ED07A6130F25"; 
          
          var displaylocation = "value" + window.location.href;
          
          var GUIDS = displaylocation.split('GUID');          
          
          if (displaylocation.indexOf('#GUID') != -1) {            
          var First = GUIDS[1].split('.html');  
          if (GUIDS[3]){First = GUIDS[2].split('.html');}
          if (GUIDS[4]){First = GUIDS[3].split('.html');}
          if (GUIDS[5]){First = GUIDS[4].split('.html');}
          
          var Second = GUIDS[2].split('#');   
          if (GUIDS[3]){Second = GUIDS[3].split('#');}
          if (GUIDS[4]){Second = GUIDS[4].split('#');}
          if (GUIDS[5]){Second = GUIDS[5].split('#');}
          
          Default = "index.html?" + "GUID" + First[0] + "GUID" + Second[0];     
          }                    
          window.top.location = Default;
          }       
          
        </script><style xml:space="">
        
          button.copy-code{
            display:none;
            padding:0.7em 1.4em;
            margin:0 0.3em 0.3em 0;
            border-radius:0.15em;
            box-sizing: border-box;
            text-decoration:none;
            font-family:'Roboto',sans-serif;
            text-transform:uppercase;
            font-weight:400;
            color:#FFFFFF;
            background-color:#9c9c9c;
            box-shadow:inset 0 -0.6em 0 -0.35em rgba(0,0,0,0.17);
            text-align:center;
            position:relative;
            border: 0;
            float: right;
            border-radius: .5em;
            cursor: pointer;
          }
          button.copy-code:active{
            top:0.1em;
          }
          
          pre:hover button.copy-code{
            display: inline-block !important;
          }
          button.copy-code.copied {
            cursor: default !important;
          }
          
          
          @media all and (max-width:30em){
            button.copy-code{
              display:block;
              margin:0.4em auto;
            }
          }
        
        
      </style></head>
<body id="dmac-crccalculate-function">
<h1 class="title topictitle1" id="ariaid-title1">DMAC_CRCCalculate Function</h1><div class="body"></div>
<div class="topic nested1" aria-labelledby="ariaid-title2" id="c"><h2 class="title topictitle2" id="ariaid-title2">C</h2><div class="body"><pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d79578e14', this);">Copy</button><code id="d79578e14" content="void DMAC_CRCCalculate(void *buffer, uint32_t length, DMAC_CRC_SETUP CRCSetup)"><span class="ph token keyword">void</span> <span class="ph token function">DMAC_CRCCalculate</span><span class="ph token punctuation">(</span><span class="ph token keyword">void</span> <span class="ph token operator">*</span>buffer<span class="ph token punctuation">,</span> uint32_t length<span class="ph token punctuation">,</span> DMAC_CRC_SETUP CRCSetup<span class="ph token punctuation">)</span></code></pre></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title3" id="summary"><h2 class="title topictitle2" id="ariaid-title3">Summary</h2><div class="body"><p class="p">Function to calculate CRC using I/O Interface</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title4" id="description"><h2 class="title topictitle2" id="ariaid-title4">Description</h2><div class="body"><p class="p">It Sets the CRC Engine in IO mode to get the data using the CPU which will be
written in CRCDATAIN register. It internally calculates the Beat Size to be used
based on the buffer length.</p>
<p class="p">This function returns the final CRC value once the computation is done</p>
<p class="p">DMAC_CRCRead() function can also be used to read the Generated CRC value.</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title5" id="parameters"><h2 class="title topictitle2" id="ariaid-title5">Parameters</h2><div class="body">
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><col style="width:" /><col style="width:" /><thead class="thead" style="text-align:left;"><tr class="row"><th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d79578e63"><span>Param</span></th>
<th class="entry cellrowborder" style="text-align:left;vertical-align:middle;" id="d79578e65"><span>Description</span></th>
</tr>
</thead>
<tbody class="tbody"><tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d79578e63 "><span>buffer</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d79578e65 "><span>Buffer on which the CRC has to be computed</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d79578e63 "><span>length</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d79578e65 "><span>Size of the buffer in bytes.</span></td>
</tr>
<tr class="row"><td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d79578e63 "><span>DMAC_CRC_SETUP crcSetup</span></td>
<td class="entry cellrowborder" style="text-align:left;vertical-align:middle;" headers="d79578e65 "><span>parameter holding the crc setup information</span></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title6" id="returns"><h2 class="title topictitle2" id="ariaid-title6">Returns</h2><div class="body"><p class="p"><em class="ph i">- crc</em> - Generated crc value</p>
</div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title7" id="example"><h2 class="title topictitle2" id="ariaid-title7">Example</h2><div class="body"><pre class="pre codeblock language-c"><button title="Copy Code" class="copy-code" onclick="cpy('d79578e95', this);">Copy</button><code id="d79578e95" content="#define DMAC_TRANSFER_SIZE 9&#xA;&#xA;const uint8_t srcBuffer[DMAC_TRANSFER_SIZE] = {'1', '2', '3', '4', '5', '6', '7', '8', '9'};&#xA;uint8_t CACHE_ALIGN dstBuffer[DMAC_TRANSFER_SIZE] = {0};&#xA;    &#xA;    uint32_t io_crc_32 = 0;&#xA;DMAC_CRC_SETUP crcSetup = {0};&#xA;    &#xA;    crcSetup.polynomial_type = DMAC_CRC_TYPE_32;&#xA;    crcSetup.seed = 0xFFFFFFFF;&#xA;    &#xA;    io_crc_32 = DMAC_CRCCalculate((void *)srcBuffer, DMAC_TRANSFER_SIZE, CRCSetup);&#xA;    "><span class="ph token macro property">#<span class="ph token directive keyword">define</span> DMAC_TRANSFER_SIZE 9</span>

<span class="ph token keyword">const</span> uint8_t srcBuffer<span class="ph token punctuation">[</span>DMAC_TRANSFER_SIZE<span class="ph token punctuation">]</span> <span class="ph token operator">=</span> <span class="ph token punctuation">{</span><span class="ph token string">'1'</span><span class="ph token punctuation">,</span> <span class="ph token string">'2'</span><span class="ph token punctuation">,</span> <span class="ph token string">'3'</span><span class="ph token punctuation">,</span> <span class="ph token string">'4'</span><span class="ph token punctuation">,</span> <span class="ph token string">'5'</span><span class="ph token punctuation">,</span> <span class="ph token string">'6'</span><span class="ph token punctuation">,</span> <span class="ph token string">'7'</span><span class="ph token punctuation">,</span> <span class="ph token string">'8'</span><span class="ph token punctuation">,</span> <span class="ph token string">'9'</span><span class="ph token punctuation">}</span><span class="ph token punctuation">;</span>
uint8_t CACHE_ALIGN dstBuffer<span class="ph token punctuation">[</span>DMAC_TRANSFER_SIZE<span class="ph token punctuation">]</span> <span class="ph token operator">=</span> <span class="ph token punctuation">{</span><span class="ph token number">0</span><span class="ph token punctuation">}</span><span class="ph token punctuation">;</span>
    
    uint32_t io_crc_32 <span class="ph token operator">=</span> <span class="ph token number">0</span><span class="ph token punctuation">;</span>
DMAC_CRC_SETUP crcSetup <span class="ph token operator">=</span> <span class="ph token punctuation">{</span><span class="ph token number">0</span><span class="ph token punctuation">}</span><span class="ph token punctuation">;</span>
    
    crcSetup<span class="ph token punctuation">.</span>polynomial_type <span class="ph token operator">=</span> DMAC_CRC_TYPE_32<span class="ph token punctuation">;</span>
    crcSetup<span class="ph token punctuation">.</span>seed <span class="ph token operator">=</span> <span class="ph token number">0xFFFFFFFF</span><span class="ph token punctuation">;</span>
    
    io_crc_32 <span class="ph token operator">=</span> <span class="ph token function">DMAC_CRCCalculate</span><span class="ph token punctuation">(</span><span class="ph token punctuation">(</span><span class="ph token keyword">void</span> <span class="ph token operator">*</span><span class="ph token punctuation">)</span>srcBuffer<span class="ph token punctuation">,</span> DMAC_TRANSFER_SIZE<span class="ph token punctuation">,</span> CRCSetup<span class="ph token punctuation">)</span><span class="ph token punctuation">;</span>
    </code></pre></div>
</div>
<div class="topic nested1" aria-labelledby="ariaid-title8" id="remarks"><h2 class="title topictitle2" id="ariaid-title8">Remarks</h2><div class="body"><p class="p">None</p>
</div>
</div>
</body>
</html>