<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN">
<html>
<head>
<title>Using the Library</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="Doc-O-Matic" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="STYLESHEET" href="default.css" type="text/css" />

<script type="text/javascript" src="scripts.js"></script>
</head>
<body class="Element700" onload="onBodyLoadEx('frames.html', 'topic', '01545.html');" onmousedown="onBodyMouseDown();">

<!-- Begin Popups -->

<!-- End Popups -->

<!-- Begin Page Header -->
<div class="Element710" id="areafixed">
<div class="Element94">
<a href="05108.html" target="topic">Peripheral Library Overview</a> &gt; <a href="04700.html" target="topic">Peripheral Libraries Help</a> &gt; <a href="05107.html" target="topic">Peripheral Libraries</a> &gt; <a href="01540.html" target="topic">Core Timer Peripheral Library Help</a> &gt; <a href="01545.html" target="topic">Using the Library</a></div>
<div class="Element92">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element1">
Microchip 32-bit Chip Support Package</div>
</td><td width="25%">
<div class="Element2">
<a href="contents.html" target="tocidx">Contents</a> | <a href="05108.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element90">
<a href="01532.html" target="topic">Previous</a> | <a href="01540.html" target="topic">Up</a> | <a href="01541.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element96">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: CORETIMER Using the Library Topic Title: Using the Library)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table><div class="Element5">
Using the Library</div>
</div>
</div>

<!-- End Page Header -->

<!-- Begin Client Area -->
<div class="Element720" id="areascroll">
<div class="Element721">

<!-- Begin Page Content -->
<a name="PageContent"></a><div class="Element58">
<a name="4465736372697074696F6E"></a><div class="Element11">
<div class="Element10">
<p class="Element10">
The core timer peripheral library can be used to generate periodic callback in interrupt mode or create blocking delay function.&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Blocking Delay</strong>&nbsp;</p>
<p class="Element10">
When the interrupt mode is not enabled, the function can generate accuracy delay. The resolution of the delay is in terms of system clock period. The delay may get impacted if the processor is interrupted.</p>
<ul class="Element630">
<li class="Element600"><a href="01550.html" target="topic">CORETIMER_DelayMs</a>() function generated delay by the specified number of milliseconds.</li>
<li class="Element600"><a href="01551.html" target="topic">CORETIMER_DelayUs</a>() function generated delay by the specified number of microseconds.</li>
</ul><p class="Element10">
&nbsp;</p>
<div class="Element13"><div class="Element12"><pre class="Element12">CORETIMER_DelayMs(100);

CORETIMER_DelayUs(1000);</pre></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Blocking Delay in Interrupt mode</strong>&nbsp;</p>
<p class="Element10">
The <a href="01550.html" target="topic">CORETIMER_DelayMs</a>() function generates delay by the specified number of milliseconds. When the core timer is configured to generate periodic interrupt, the delay time accuracy and resolution is dependent on the interrupt time period. For example, if the core timer is configured to generate interrupt every 10 ms, the delay resolution is 10 ms and the delay accuracy is +/- 10ms. The delay may get extended if processor is interrupted by the higher priority interrupt.&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element13"><div class="Element12"><pre class="Element12">
CORETIMER_DelayMs(100);
</pre></div></div>
<p class="Element10">
&nbsp;</p>
<p class="Element10">
<strong>Periodic Callback in Interrupt mode</strong>&nbsp;</p>
<p class="Element10">
This example demonstrates how to use Core Timer to generate periodic callback. The time period is configured using MHC or the period set API.&nbsp;</p>
<p class="Element10">
&nbsp;</p><div class="Element13"><div class="Element12"><pre class="Element12"><i><span style="color: #008000">/* This function is called at specified periodic interval */</span></i>
<strong><span style="color: #000080">void</span></strong> CORETIMER_EventHandler(uintptr_t context)
{
    <i><span style="color: #008000">/* Toggle LED */</span></i>
    LED_Toggle();
}

<strong><span style="color: #000080">int</span></strong> main(<strong><span style="color: #000080">void</span></strong>)
{
    <i><span style="color: #008000">/* Initialize all modules */</span></i>
    SYS_Initialize ( NULL );

    <i><span style="color: #008000">/* Register Callback */</span></i>
    CORETIMER_CallbackSet(CORETIMER_EventHandler, (uintptr_t) NULL);

    <i><span style="color: #008000">/* Start the Timer */</span></i>
    CORETIMER_Start();
}</pre></div></div>
</div>
</div>
</div>
<!-- End Page Content -->

<!-- Begin Page Footer -->
<div class="Element95">
<a href="05108.html" target="topic">Peripheral Library Overview</a> &gt; <a href="04700.html" target="topic">Peripheral Libraries Help</a> &gt; <a href="05107.html" target="topic">Peripheral Libraries</a> &gt; <a href="01540.html" target="topic">Core Timer Peripheral Library Help</a> &gt; <a href="01545.html" target="topic">Using the Library</a></div>
<div class="Element93">
<table width="100%" cellspacing="0" cellpadding="0">
<tr><td width="25%">
<div class="Element3">
Microchip 32-bit Chip Support Package</div>
</td><td width="25%">
<div class="Element4">
<a href="contents.html" target="tocidx">Contents</a> | <a href="05108.html" target="topic">Home</a></div>
</td><td width="25%">
<div class="Element91">
<a href="01532.html" target="topic">Previous</a> | <a href="01540.html" target="topic">Up</a> | <a href="01541.html" target="topic">Next</a></div>
</td><td width="25%">
<div class="Element97">
<a href="mailto:docerrors@microchip.com&subject=MPLAB Harmony Documentation Feedback (Topic ID: CORETIMER Using the Library Topic Title: Using the Library)&body=Thank you for your feedback! Please include a description of your feedback, and indicate whether you are reporting an an error in the documentation or an enhancement.">Documentation Feedback</a><br> <a href="http://support.microchip.com" target="_blank">Microchip Support</a></div>
</td></tr></table></div>

<!-- End Page Footer -->
</div>
</div>

<!-- End Client Area -->
</body></html>